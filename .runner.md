# Local Runner Guide

## Prerequisites
- Java 21
- Maven 3.9+
- Node.js 20+ and npm
- Docker (optional)

## Install frontend dependencies
```bash
npm run frontend:install
```

## Run backend locally (fast inner loop)
Use this when iterating locally. It avoids Docker rebuilds.

```bash
# optional Telegram config
export TELEGRAM_BOT_TOKEN="<your-bot-token>"
export TELEGRAM_CHAT_ID="<your-chat-id>"

# optional CORS override
export CORS_ALLOWED_ORIGINS="http://localhost:5173,http://127.0.0.1:5173,https://kushb2.github.io"

# direct Maven (preferred for backend)
mvn -f service/pom.xml exec:java

# OR from root package scripts (same command wrapped)
npm run backend:dev
```

Backend URL: `http://localhost:8080`

## Run frontend locally
In a second terminal:

```bash
export VITE_API_BASE_URL="http://localhost:8080"
npm run frontend:dev
```

Frontend URL: `http://localhost:5173`

## Quick local checks
```bash
curl http://localhost:8080/health
curl http://localhost:8080/api/telegram/status
curl -X POST http://localhost:8080/api/telegram/send/text \
  -H "Content-Type: application/json" \
  -d '{"text":"hello from local"}'
```

## Build/package before deploy
```bash
npm run backend:package
npm run frontend:build
```

## Optional Docker workflow
```bash
npm run backend:docker:build
npm run backend:docker:run
```
